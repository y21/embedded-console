<html>
    <head>
        <meta charset="utf-8" />

        <!-- Include stylesheet -->
        <link rel="stylesheet" href="console.css" />
        <title>Embedded-Console</title>
    </head>
    <body>
        <h3><a href="https://github.com/y21/embedded-console">embedded-console</a></h3>

        <!-- Element that will be passed to EmbeddedConsole -->
        <div id="console"></div>
    </body>

    <!-- Include JavaScript file -->
    <script src="console.js"></script>
    <script>
            // Get element (<div id="console"></div>)
            const element = document.getElementById('console');

            // Create embedded console
            const ec = new EmbeddedConsole(element, {
                height: '100%',
                maxDepth: 3
            });

            // Some random tests
            ec.time('Rendering logs');

            ec.log('String', '<b>xss?</b>');
            ec.log('Hello, %s. %d?', 'user');

            ec.log(13, 15.6, BigInt(13));
            ec.log(undefined, null);
            ec.log(true, false);
            ec.log(function() { return 1+1; });
            ec.log(String.prototype.concat);
            ec.log(new Set([1,2,3]));
            ec.log(new Map([[1, 2], [3, 4]]));
            ec.log([1, 2, 'test']);
            ec.log(window);

            ec.log('Null prototype', Object.create(null));
            ec.log('Proxied Error', new Proxy(Error.prototype, {}));
            ec.warn('Warning: please read me.', 123);
            ec.error(new Error('help'));

            ec.error(new Error('something went wrong').stack);

            ec.assert(true, 'All good');

            ec.assert(0 /* 0 = falsy */, 'Oops!', 12345);

            ec.error(new ReferenceError('abc is not defined'));

            // Numbers

            ec.log(0);
            ec.log(Infinity, -Infinity);
            ec.log(NaN);
            ec.log(9.5e95);

            ec.timeEnd('Rendering logs');
    </script>
</html>